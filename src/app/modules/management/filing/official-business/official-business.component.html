<!-- Main -->
<div class="flex-auto p-6 sm:p-6 overflow-y-auto">
    <!-- Main -->
    <div class="flex-auto  sm:p-2  w-full min-w-0 sm:absolute sm:inset-0 sm:overflow-auto text-md">
    <div>
        <form [formGroup]="officialBForm">
            <div  class="grid grid-cols-8 gap-4 h-15">
                <mat-form-field class="w-full text-md " appearance="outline">
                    <mat-label class="label-font-size">Date</mat-label>
                    <input formControlName="timeTo" matInput [matDatepicker]="df" readonly [placeholder]="'MM/DD/YYYY'" (click)="df.open()">
                    <mat-datepicker-toggle matSuffix [for]="df"></mat-datepicker-toggle>
                    <mat-datepicker #df></mat-datepicker>
                </mat-form-field>

                <mat-form-field class="w-full text-md " appearance="outline">
                    <mat-label class="label-font-size">Time From</mat-label>
                    <mat-icon class="uploadbutton icon-size-5 : mr-2 mt-5" matPrefix svgIcon="mat_outline:access_time"></mat-icon>
                    <!-- <mat-icon class="icon-size-5 : mr-2 mt-6" matPrefix svgIcon="mat_outline:access_time"></mat-icon> -->
                    <input class="timeinput" (ngModelChange)="handleTimeEvent()" formControlName="obdTFrom" readonly [strict]="false" mode="12h" type="text" matTimepicker #t="matTimepicker">
                </mat-form-field>

                <mat-form-field class="w-full text-md " appearance="outline">
                    <mat-label class="label-font-size">Time To</mat-label>
                    <mat-icon class="uploadbutton icon-size-5 : mr-2 mt-5" matPrefix svgIcon="mat_outline:access_time"></mat-icon>
                    <!-- <mat-icon class="icon-size-5 : mr-2 mt-6" matPrefix svgIcon="mat_outline:access_time"></mat-icon> -->
                    <input class="timeinput" (ngModelChange)="handleTimeEvent()" formControlName="obdTTo" readonly [strict]="false" mode="12h" type="text" matTimepicker #t2="matTimepicker">
                </mat-form-field>
                    <!-- <mat-form-field class="w-70 xxl:w-100 text-md h-15" appearance="outline">
                        <mat-label class="label-font-size">Date And Time From</mat-label>
                        <input matInput [ngxMatDatetimePicker]="dtfob"  (click)="dtfob.open()"
                                        placeholder="Choose a date"
                                        formControlName="obdTFrom"
                                        [max]="officialBForm.controls['obdTTo'].value"
                                        [disabled]="false">
                        <mat-datepicker-toggle matSuffix [for]="dtfob">
                        </mat-datepicker-toggle>
                        <ngx-mat-datetime-picker #dtfob
                        [showSpinners]="showSpinners"
                        [showSeconds]="showSeconds"
                        [touchUi]="touchUi"
                        [color]="color"
                        [enableMeridian]="true">
                        </ngx-mat-datetime-picker>
                    </mat-form-field>
                    <mat-form-field class="w-70 xxl:w-100 text-md h-15" appearance="outline">
                        <mat-label class="label-font-size">Date And Time To</mat-label>
                        <input matInput [ngxMatDatetimePicker]="dto"  (click)="dto.open()"
                                        placeholder="Choose a date"
                                        formControlName="obdTTo"
                                        [min]="officialBForm.controls['obdTFrom'].value"
                                        [disabled]="false">
                        <mat-datepicker-toggle matSuffix [for]="dto">
                        </mat-datepicker-toggle>
                        <ngx-mat-datetime-picker #dto
                        [showSpinners]="showSpinners"
                        [showSeconds]="showSeconds"
                        [touchUi]="touchUi"
                        [color]="color"
                        [enableMeridian]="true">
                        </ngx-mat-datetime-picker>
                    </mat-form-field> -->
                        <!-- <app-dropdown [control]="obreason"  [options]="official" [icon]="'mat_outline:info'"></app-dropdown> -->
                    <mat-form-field class="w-full text-md" appearance="outline">
                        <mat-label class="label-font-size">Reason</mat-label>
                        <mat-icon class="uploadbutton icon-size-5 : mr-2" matPrefix svgIcon="mat_outline:info"></mat-icon>
                        <mat-select formControlName="obreason">
                            <mat-option *ngFor="let item of official" [value]="item.id">{{item.description}}</mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-form-field class="w-full text-md" appearance="outline">
                        <mat-label class="label-font-size">Location</mat-label>
                        <mat-icon class="uploadbutton icon-size-5 : mr-2" matPrefix svgIcon="mat_outline:info"></mat-icon>
                        <input class="input" formControlName="oblocation" matInput [placeholder]="'Location'"/>
                    </mat-form-field>
                    <mat-form-field class="w-full text-md" appearance="outline">
                        <mat-label class="label-font-size">Remarks</mat-label>
                        <mat-icon class="uploadbutton icon-size-5 : mr-2" matPrefix svgIcon="mat_outline:info"></mat-icon>
                        <input class="input" formControlName="obremarks" matInput [placeholder]="'Remarks'"/>
                    </mat-form-field>
                    <mat-form-field class="w-full text-md" appearance="outline">
                        <input type="file" formControlName="obupload_file" #fileInput2 (change)="uploadFile($event, 'displayOB')"  class=" absolute top-1 z-0 h-full w-full cursor-pointer opacity-0" accept=".jpeg,.jpg,.png,.doc,.docx,.pdf,.xls,.xlsx"/>
                        <input class="sample" readonly matInput id="displayOB" cdkFocusInitial />
                        <mat-icon class="uploadbutton icon-size-5 : mr-2" matPrefix svgIcon="mat_outline:upload"></mat-icon>
                        <button  class="upb" (click)="fileInput2.click($event)" matSuffix mat-button color="primary">Upload</button>
                    </mat-form-field>
                    <!-- <mat-form-field class="w-full text-md" appearance="outline">
                        <mat-label class="label-font-size">Upload File</mat-label>
                        <mat-icon class="icon-size-5 : mr-2" matSuffix svgIcon="mat_outline:upload"></mat-icon>
                        <input formControlName="obupload_file" matInput type="text" [placeholder]="'Upload File'" readonly>
                    </mat-form-field> -->
                    <div class="button-margin-top">
                        <button (click)="addOB()" class="text-md mt-[2px]" mat-flat-button color="primary" aria-label="example icon">
                            <mat-icon class="mr-1 mt-4" svgIcon="mat_outline:post_add"></mat-icon>Add
                        </button>
                    </div>
                </div>
        </form>
            <div>
                <table #OBTable mat-table [dataSource]="datasource" class="mat-elevation-z0 border">
                    <ng-container matColumnDef="action">
                        <th class="pl-6" mat-header-cell *matHeaderCellDef>Actions</th>
                        <td class="pl-1" mat-cell  *matCellDef="let element; let i = index">
                            <button class="ml-5 mt-3" mat-icon-button [matMenuTriggerFor]="menu" aria-label="">
                                <mat-icon class="icon-size-6 ">more_vert</mat-icon>
                            </button>
                            <mat-menu #menu="matMenu">
                            <button mat-menu-item (click)="obDelete(i)">
                                <mat-icon class="icon-size-6 : mt-5" color="warn">delete</mat-icon>
                                <span>Delete</span>
                            </button>
                            <button mat-menu-item>
                                <mat-icon class="icon-size-6 : mt-5" color="primary">edit</mat-icon>
                                <span>Edit</span>
                            </button>
                            </mat-menu>
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="date" >
                        <th class="pr-5" mat-header-cell *matHeaderCellDef> Date </th>
                        <td mat-cell  *matCellDef="let element">
                            <mat-form-field class="w-40 text-md h-5" appearance="outline">
                                <mat-label class="label-font-size"></mat-label>
                                <mat-icon class="icon-size-5 : mr-2" matPrefix svgIcon="mat_outline:info"></mat-icon>
                                <input class="input" [(ngModel)]="element.date" matInput type="text" [placeholder]="" readonly>
                            </mat-form-field>
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="dateTimeFrom" >
                        <th class="" mat-header-cell *matHeaderCellDef> Time From </th>
                        <td mat-cell class="pr-2"  *matCellDef="let element">
                            <mat-form-field class="w-40 text-md h-5" appearance="outline">
                                <mat-label class="label-font-size"></mat-label>
                                <mat-icon class="icon-size-5 : mr-2" matPrefix svgIcon="mat_outline:access_time"></mat-icon>
                                <input  [(ngModel)]="element.dateTimeFrom"  readonly [strict]="false" mode="12h" type="text" matTimepicker #t="matTimepicker">
                            </mat-form-field>
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="dateTimeTo" >
                        <th class=" pr-5" mat-header-cell *matHeaderCellDef> Time To </th>
                        <td mat-cell  *matCellDef="let element">
                            <mat-form-field class="w-40 text-md h-5 " appearance="outline">
                                <mat-label class="label-font-size"></mat-label>
                                <mat-icon class="icon-size-5 : mr-2" matPrefix svgIcon="mat_outline:access_time"></mat-icon>
                                <input  [(ngModel)]="element.dateTimeTo"  readonly [strict]="false" mode="12h" type="text" matTimepicker #t="matTimepicker">
                            </mat-form-field>
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="reason" >
                        <th class="pr-5" mat-header-cell *matHeaderCellDef> Reason </th>
                        <td mat-cell  *matCellDef="let element">
                            <mat-form-field class="w-50 text-md h-5" appearance="outline">
                                <mat-label class="label-font-size">Reason</mat-label>
                                <mat-icon class="uploadbutton icon-size-5 : mr-2" matPrefix svgIcon="mat_outline:info"></mat-icon>
                                <mat-select [(ngModel)]="element.reason">
                                    <mat-option *ngFor="let item of official" [value]="item.id">{{item.description}}</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="location" >
                        <th class="pr-5"  mat-header-cell *matHeaderCellDef> Location </th>
                        <td mat-cell  *matCellDef="let element">
                            <mat-form-field class="w-40 text-md h-5" appearance="outline">
                                <mat-label class="label-font-size">Remarks</mat-label>
                                <mat-icon class="icon-size-5 : mr-2" matPrefix svgIcon="mat_outline:info"></mat-icon>
                                <input class="input" [(ngModel)]="element.location" matInput [placeholder]="'Remarks'"/>
                            </mat-form-field>
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="remarks" >
                        <th class="pr-5" mat-header-cell *matHeaderCellDef> Remarks </th>
                        <td mat-cell  *matCellDef="let element">
                            <mat-form-field class="w-40 text-md h-5" appearance="outline">
                                <mat-label class="label-font-size">Remarks</mat-label>
                                <mat-icon class="icon-size-5 : mr-2" matPrefix svgIcon="mat_outline:info"></mat-icon>
                                <input class="input" [(ngModel)]="element.remarks" matInput [placeholder]="'Remarks'"/>
                            </mat-form-field>
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="uploadFile" >
                        <th class="pr-5" mat-header-cell *matHeaderCellDef> Upload File </th>
                        <td mat-cell *matCellDef="let element">
                            <mat-form-field class="w-40 text-md  h-5" appearance="outline">
                            <!-- <mat-label class="label-font-size">Company Logo</mat-label> -->
                            <input type="file" id="imageUpload" #fileInput4 (change)="uploadFile($event ,'displayMe'+i, 'uploadFile',i)"  class="absolute top-1 z-0 h-full w-full cursor-pointer opacity-0" accept=".jpeg,.jpg,.png"/>
                            <input class="sample" readonly matInput [(ngModel)]="element.uploadFile" [id]="'displayMe'+i"  cdkFocusInitial />
                            <mat-icon class="icon-size-5 : mr-2" matPrefix svgIcon="mat_outline:upload"></mat-icon>
                            <button  class="upb" (click)="fileInput4.click()" matSuffix mat-button color="primary">Upload</button>
                        </mat-form-field></td>
                    </ng-container>
                    <ng-container matColumnDef="status" >
                        <th class="body" mat-header-cell *matHeaderCellDef> Status </th>
                        <td mat-cell class="w-40 pl-1 pr-1" *matCellDef="let element">{{element.status}}</td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="obColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: obColumns;"></tr>
                </table>
             </div>

       </div>
    </div>
</div>
